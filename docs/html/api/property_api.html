<!doctype html>
<html class="no-js" lang="en" data-content_root="../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="Partitioned Graph and APIs" href="partition_api.html" /><link rel="prev" title="Graph Topology and APIs" href="topology_api.html" />

    <!-- Generated with Sphinx 7.2.5 and Furo 2023.09.10 -->
        <title>Property Graph and APIs - GRIN 0.1.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=362ab14a" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=135e06be" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=36a5483c" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">GRIN 0.1.1 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  
  <span class="sidebar-brand-text">GRIN 0.1.1 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../get_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="topology_api.html">Graph Topology and APIs</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Property Graph and APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="partition_api.html">Partitioned Graph and APIs</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="property-graph-and-apis">
<h1>Property Graph and APIs<a class="headerlink" href="#property-graph-and-apis" title="Link to this heading">#</a></h1>
<p>A property graph is a commonly used graph abstraction for representing real-world data.
It allows for properties to be attached to vertices and edges.
There are two types of property graphs: those that are constrained by a predefined schema,
and those that are schema-free.</p>
<p>In the case of a schema-enabled property graph,
the properties of vertices and edges are defined by a predefined schema.
GRIN supports this type of property graph and utilizes the Labeled Property Graph (LPG)
data model to represent it.</p>
<p>For the schema-enabled case,
we first introduce the LPG data model and then discuss the APIs
for accessing the properties of vertices and edges.
This provides a structured way of working with the properties in the graph.</p>
<p>On the other hand, a schema-free property graph allows properties to be
attached to vertices and edges arbitrarily.
GRIN also supports this type of graph.
We will then discuss the property APIs for the schema-free case,
which provide flexibility in working with the properties
as they can be attached freely without conforming to a predefined schema.</p>
<section id="labeled-property-graph">
<h2>Labeled Property Graph<a class="headerlink" href="#labeled-property-graph" title="Link to this heading">#</a></h2>
<p>GRIN utilizes the Labeled Property Graph (LPG) data model, which is widely used
by graph computing systems, such as graph databases and graph analytical systems,
on graph data lakes.</p>
<p>In this model, a labeled property graph is represented as <span class="math notranslate nohighlight">\(G = (V, E, T_V, T_E, P, L)\)</span>.
Here, <span class="math notranslate nohighlight">\(V\)</span> is the set of vertices, <span class="math notranslate nohighlight">\(E\)</span> is the set of edges,
<cite>T_V</cite> is the set of vertex types, <span class="math notranslate nohighlight">\(T_E\)</span> is the set of edge types,
<cite>P</cite> is the set of properties, and <span class="math notranslate nohighlight">\(L\)</span> is the set of labels.</p>
<p>Each vertex <span class="math notranslate nohighlight">\(v\)</span> in <span class="math notranslate nohighlight">\(V\)</span> is associated with a vertex type <span class="math notranslate nohighlight">\(t_v\)</span> from <span class="math notranslate nohighlight">\(T_V\)</span>.
Similarly, each edge <span class="math notranslate nohighlight">\(e\)</span> is associated with an edge type <span class="math notranslate nohighlight">\(t_e\)</span> from <span class="math notranslate nohighlight">\(T_E\)</span>,
and the graph <span class="math notranslate nohighlight">\(G\)</span> is directed so that each edge has a source and destination vertex.
A property <span class="math notranslate nohighlight">\(p\)</span> in <span class="math notranslate nohighlight">\(P\)</span> can be either a vertex property specific to a vertex type
or an edge property specific to an edge type.
This implies that vertices with the same vertex type have the same set of properties,
as do edges with the same edge type.
Moreover, each property <span class="math notranslate nohighlight">\(p\)</span> has a unique name within its respective vertex or
edge type and a specified data type for its values.</p>
<p>In addition, each label <span class="math notranslate nohighlight">\(l\)</span> in <span class="math notranslate nohighlight">\(L\)</span> is a distinct string within the graph.
Every vertex type <span class="math notranslate nohighlight">\(t_v\)</span> has a set of candidate labels <span class="math notranslate nohighlight">\(L(t_v)\)</span> from the set <span class="math notranslate nohighlight">\(L\)</span>,
and consequently, each vertex can be assigned zero or multiple labels from the
candidate labels associated with its vertex type.
We can also apply labels to edge types in the same way as vertex types.</p>
</section>
<section id="schema-enabled-property-graph-apis">
<h2>Schema-enabled Property Graph APIs<a class="headerlink" href="#schema-enabled-property-graph-apis" title="Link to this heading">#</a></h2>
<p>LPG is a type-centric data model that organizes the properties and labels based on vertex and edge types.
Thus, we will start by examining the APIs for vertex and edge types.
After that, we will delve into the APIs related to properties,
including schema-related functions, value retrieval, and primary key management.
Additionally, we will cover the APIs for labels.
Lastly, we will explore the topology APIs designed specifically for schema-enabled property graphs.</p>
<section id="vertex-and-edge-type">
<h3>Vertex and Edge Type<a class="headerlink" href="#vertex-and-edge-type" title="Link to this heading">#</a></h3>
<p>To illustrate the APIs for vertex and edge types, letâ€™s use the example of vertex type.
The APIs for edge types are similar, so understanding the vertex type APIs will
give you a good understanding of the edge type APIs too.</p>
<p>GRIN offers a vertex type list handle, which is used to represent the vertex types.
This handle allows us to retrieve a vertex type handle using an array-like approach.
The relevant APIs for this functionality are as follows:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">GRIN_VERTEX_TYPE_LIST</span><span class="w"> </span><span class="nf">grin_get_vertex_type_list</span><span class="p">(</span><span class="n">GRIN_GRAPH</span><span class="p">);</span>

<span class="kt">size_t</span><span class="w"> </span><span class="nf">grin_get_vertex_type_list_size</span><span class="p">(</span><span class="n">GRIN_GRAPH</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_VERTEX_TYPE_LIST</span><span class="p">);</span>

<span class="n">GRIN_VERTEX_TYPE</span><span class="w"> </span><span class="nf">grin_get_vertex_type_from_list</span><span class="p">(</span><span class="n">GRIN_GRAPH</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_VERTEX_TYPE_LIST</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="p">);</span>
</pre></div>
</div>
<p>Each vertex type has a unique name, the related APIs are:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="nf">grin_get_vertex_type_name</span><span class="p">(</span><span class="n">GRIN_GRAPH</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_VERTEX_TYPE</span><span class="p">);</span>

<span class="n">GRIN_VERTEX_TYPE</span><span class="w"> </span><span class="nf">grin_get_vertex_type_by_name</span><span class="p">(</span><span class="n">GRIN_GRAPH</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="p">);</span>
</pre></div>
</div>
<p>Also, the vertex types are numbered from 0, denoted as the vertex type ids:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">GRIN_VERTEX_TYPE_ID</span><span class="w"> </span><span class="nf">grin_get_vertex_type_id</span><span class="p">(</span><span class="n">GRIN_GRAPH</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_VERTEX_TYPE</span><span class="p">);</span>

<span class="n">GRIN_VERTEX_TYPE</span><span class="w"> </span><span class="nf">grin_get_vertex_type_by_id</span><span class="p">(</span><span class="n">GRIN_GRAPH</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_VERTEX_TYPE_ID</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="schema-related-functions">
<h3>Schema-related Functions<a class="headerlink" href="#schema-related-functions" title="Link to this heading">#</a></h3>
<p>Properties in LPG are organized based on vertex and edge types.
We can get the properties of a vertex type using:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">GRIN_VERTEX_PROPERTY_LIST</span><span class="w"> </span><span class="nf">grin_get_vertex_property_list_by_type</span><span class="p">(</span><span class="n">GRIN_GRAPH</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_VERTEX_TYPE</span><span class="p">);</span>
</pre></div>
</div>
<p>Then this property list handle can be used to retrieve a property handle using an array-like approach:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">size_t</span><span class="w"> </span><span class="nf">grin_get_vertex_property_list_size</span><span class="p">(</span><span class="n">GRIN_GRAPH</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_VERTEX_PROPERTY_LIST</span><span class="p">);</span>

<span class="n">GRIN_VERTEX_PROPERTY</span><span class="w"> </span><span class="nf">grin_get_vertex_property_from_list</span><span class="p">(</span><span class="n">GRIN_GRAPH</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_VERTEX_PROPERTY_LIST</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="p">);</span>
</pre></div>
</div>
<p>And of course, we can get the vertex type that a vertex property belongs to:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">GRIN_VERTEX_TYPE</span><span class="w"> </span><span class="nf">grin_get_vertex_type_from_property</span><span class="p">(</span><span class="n">GRIN_GRAPH</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_VERTEX_PROPERTY</span><span class="p">);</span>
</pre></div>
</div>
<p>Each property is assigned a unique name within its respective type, the related APIs are:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="nf">grin_get_vertex_property_name</span><span class="p">(</span><span class="n">GRIN_GRAPH</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_VERTEX_TYPE</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_VERTEX_PROPERTY</span><span class="p">);</span>

<span class="n">GRIN_VERTEX_PROPERTY</span><span class="w"> </span><span class="nf">grin_get_vertex_property_by_name</span><span class="p">(</span><span class="n">GRIN_GRAPH</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_VERTEX_TYPE</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="p">);</span>
</pre></div>
</div>
<p>And the vertex type is involved in the parameter list because of the type-centric schema nature of LPG.</p>
<p>In case to get all the properties with the same name across all the vertex types, use:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">GRIN_VERTEX_PROPERTY_LIST</span><span class="w"> </span><span class="nf">grin_get_vertex_properties_by_name</span><span class="p">(</span><span class="n">GRIN_GRAPH</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="p">);</span>
</pre></div>
</div>
<p>Properties belonging to the same vertex type are numbered from 0, denoted as the property ids:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">GRIN_VERTEX_PROPERTY_ID</span><span class="w"> </span><span class="nf">grin_get_vertex_property_id</span><span class="p">(</span><span class="n">GRIN_GRAPH</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_VERTEX_TYPE</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_VERTEX_PROPERTY</span><span class="p">);</span>

<span class="n">GRIN_VERTEX_PROPERTY</span><span class="w"> </span><span class="nf">grin_get_vertex_property_by_id</span><span class="p">(</span><span class="n">GRIN_GRAPH</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_VERTEX_TYPE</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_VERTEX_PROPERTY_ID</span><span class="p">);</span>
</pre></div>
</div>
<p>The edge property APIs are very similar to the vertex property APIs, so we will not repeat them here.</p>
</section>
<section id="value-retrieval">
<h3>Value Retrieval<a class="headerlink" href="#value-retrieval" title="Link to this heading">#</a></h3>
<p>Property values can be retrieved from the property handles as long as the property data type is known.
The data type of a property can be parsed from the graph schema (see the schema section for details),
or it can be retrieved directly from the property handle:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">GRIN_DATATYPE</span><span class="w"> </span><span class="nf">grin_get_vertex_property_datatype</span><span class="p">(</span><span class="n">GRIN_GRAPH</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_VERTEX_PROPERTY</span><span class="p">);</span>
</pre></div>
</div>
<p>The data types that GRIN supports and corresponding APIs to get the property values of different data types are listed below:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">// Int32</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">grin_get_vertex_property_value_of_int32</span><span class="p">(</span><span class="n">GRIN_GRAPH</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_VERTEX</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_VERTEX_PROPERTY</span><span class="p">);</span>

<span class="c1">// UInt32</span>
<span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">grin_get_vertex_property_value_of_uint32</span><span class="p">(</span><span class="n">GRIN_GRAPH</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_VERTEX</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_VERTEX_PROPERTY</span><span class="p">);</span>

<span class="c1">// Int64</span>
<span class="kt">long</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">grin_get_vertex_property_value_of_int64</span><span class="p">(</span><span class="n">GRIN_GRAPH</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_VERTEX</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_VERTEX_PROPERTY</span><span class="p">);</span>

<span class="c1">// UInt64</span>
<span class="kt">unsigned</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">grin_get_vertex_property_value_of_uint64</span><span class="p">(</span><span class="n">GRIN_GRAPH</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_VERTEX</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_VERTEX_PROPERTY</span><span class="p">);</span>

<span class="c1">// Float</span>
<span class="kt">float</span><span class="w"> </span><span class="nf">grin_get_vertex_property_value_of_float</span><span class="p">(</span><span class="n">GRIN_GRAPH</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_VERTEX</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_VERTEX_PROPERTY</span><span class="p">);</span>

<span class="c1">// Double</span>
<span class="kt">double</span><span class="w"> </span><span class="nf">grin_get_vertex_property_value_of_double</span><span class="p">(</span><span class="n">GRIN_GRAPH</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_VERTEX</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_VERTEX_PROPERTY</span><span class="p">);</span>

<span class="c1">// String</span>
<span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="nf">grin_get_vertex_property_value_of_string</span><span class="p">(</span><span class="n">GRIN_GRAPH</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_VERTEX</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_VERTEX_PROPERTY</span><span class="p">);</span>

<span class="c1">// Date32</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">grin_get_vertex_property_value_of_date32</span><span class="p">(</span><span class="n">GRIN_GRAPH</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_VERTEX</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_VERTEX_PROPERTY</span><span class="p">);</span>

<span class="c1">// Time32</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">grin_get_vertex_property_value_of_time32</span><span class="p">(</span><span class="n">GRIN_GRAPH</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_VERTEX</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_VERTEX_PROPERTY</span><span class="p">);</span>

<span class="c1">// Timestamp64</span>
<span class="kt">long</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">grin_get_vertex_property_value_of_timestamp64</span><span class="p">(</span><span class="n">GRIN_GRAPH</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_VERTEX</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_VERTEX_PROPERTY</span><span class="p">);</span>

<span class="c1">// FloatArray</span>
<span class="k">const</span><span class="w"> </span><span class="kt">float</span><span class="o">*</span><span class="w"> </span><span class="nf">grin_get_vertex_property_value_of_float_array</span><span class="p">(</span><span class="n">GRIN_GRAPH</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_VERTEX</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_VERTEX_PROPERTY</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="o">*</span><span class="p">);</span>
</pre></div>
</div>
<p>Aside from primitive data types, when the property data type is String, the returned value is a C-style string.
This means that it is a const pointer to a char array that ends with a null character.
Also, when the property data type is FloatArray,
the returned value is a const pointer to a float array.
In this case, the user should provide a size pointer as the last parameter to receive the size of the array.
It is important to note that both of these non-primitive types of values should be destroyed after use:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">grin_destroy_vertex_property_value_of_string</span><span class="p">(</span><span class="n">GRIN_GRAPH</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="p">);</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">grin_destroy_vertex_property_value_of_float_array</span><span class="p">(</span><span class="n">GRIN_GRAPH</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">float</span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="p">);</span>
</pre></div>
</div>
<p>The APIs for edge property values are similar to the vertex property value APIs,
so we will not repeat them here.</p>
</section>
<section id="row">
<h3>Row<a class="headerlink" href="#row" title="Link to this heading">#</a></h3>
<p>Sometimes we may want to get the all the property values of a vertex in one API call,
GRIN offers the following API for this purpose:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">GRIN_ROW</span><span class="w"> </span><span class="nf">grin_get_vertex_row</span><span class="p">(</span><span class="n">GRIN_GRAPH</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_VERTEX</span><span class="p">);</span>
</pre></div>
</div>
<p>The returned <code class="docutils literal notranslate"><span class="pre">GRIN_ROW</span></code> is a row handle to represent the list of values,
and it can be further used to retrieve the values using an array-like approach:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">grin_get_int32_from_row</span><span class="p">(</span><span class="n">GRIN_GRAPH</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_ROW</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="p">);</span>

<span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">grin_get_uint32_from_row</span><span class="p">(</span><span class="n">GRIN_GRAPH</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_ROW</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="p">);</span>

<span class="kt">long</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">grin_get_int64_from_row</span><span class="p">(</span><span class="n">GRIN_GRAPH</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_ROW</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="p">);</span>

<span class="kt">unsigned</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">grin_get_uint64_from_row</span><span class="p">(</span><span class="n">GRIN_GRAPH</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_ROW</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="p">);</span>

<span class="kt">float</span><span class="w"> </span><span class="nf">grin_get_float_from_row</span><span class="p">(</span><span class="n">GRIN_GRAPH</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_ROW</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="p">);</span>

<span class="kt">double</span><span class="w"> </span><span class="nf">grin_get_double_from_row</span><span class="p">(</span><span class="n">GRIN_GRAPH</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_ROW</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="p">);</span>

<span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="nf">grin_get_string_from_row</span><span class="p">(</span><span class="n">GRIN_GRAPH</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_ROW</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="p">);</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">grin_get_date32_from_row</span><span class="p">(</span><span class="n">GRIN_GRAPH</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_ROW</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="p">);</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">grin_get_time32_from_row</span><span class="p">(</span><span class="n">GRIN_GRAPH</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_ROW</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="p">);</span>

<span class="kt">long</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">grin_get_timestamp64_from_row</span><span class="p">(</span><span class="n">GRIN_GRAPH</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_ROW</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="p">);</span>

<span class="k">const</span><span class="w"> </span><span class="kt">float</span><span class="o">*</span><span class="w"> </span><span class="nf">grin_get_float_array_from_row</span><span class="p">(</span><span class="n">GRIN_GRAPH</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_ROW</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="o">*</span><span class="p">);</span>
</pre></div>
</div>
<p>Although fetching values from a row handle is less efficient than fetching values from a property handle directly,
there are cases where we want to hold all the property values of a vertex with one handle.</p>
</section>
<section id="primary-key">
<h3>Primary Key<a class="headerlink" href="#primary-key" title="Link to this heading">#</a></h3>
<p>Just like in relational databases, primary keys are used to identify a vertex or an edge,
and particularly in LPG, they are unique under a given vertex or edge type.</p>
<p>The primary keys of a vertex type is defined as a non-empty subset of the properties belonging
to the vertex type.
Users can get such information from the graph schema (see the schema section for details),
or invoke the following APIs:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">GRIN_VERTEX_TYPE_LIST</span><span class="w"> </span><span class="nf">grin_get_vertex_types_with_primary_keys</span><span class="p">(</span><span class="n">GRIN_GRAPH</span><span class="p">);</span>

<span class="n">GRIN_VERTEX_PROPERTY_LIST</span><span class="w"> </span><span class="nf">grin_get_primary_keys_by_vertex_type</span><span class="p">(</span><span class="n">GRIN_GRAPH</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_VERTEX_TYPE</span><span class="p">);</span>
</pre></div>
</div>
<p>The first API returns the vertex types that have primary keys defined,
and the second API returns the primary keys of a given vertex type.</p>
<p>Also, the values of primary keys can be retrieved as a <code class="docutils literal notranslate"><span class="pre">GRIN_ROW</span></code> from the vertex handle:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">GRIN_ROW</span><span class="w"> </span><span class="nf">grin_get_vertex_primary_keys_row</span><span class="p">(</span><span class="n">GRIN_GRAPH</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_VERTEX</span><span class="p">);</span>
</pre></div>
</div>
<p>The ability to retrieve vertices or edges from their primary key values are referred as <code class="docutils literal notranslate"><span class="pre">PK</span> <span class="pre">Indexing</span></code>
in GRIN, which are described in the index section.</p>
<p>The primary key APIs of edges are very similar to that of the vertices,
so we will not repeat here.</p>
</section>
<section id="label">
<h3>Label<a class="headerlink" href="#label" title="Link to this heading">#</a></h3>
<p>Labels are used to annotate vertices and edges.
In LPG, each vertex type has a set of candidate labels, and they can be fetched using:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">GRIN_LABEL_LIST</span><span class="w"> </span><span class="nf">grin_get_label_list_by_vertex_type</span><span class="p">(</span><span class="n">GRIN_GRAPH</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_VERTEX_TYPE</span><span class="p">);</span>
</pre></div>
</div>
<p>And each vertex can be assigned zero or multiple labels from the candidate labels associated with its vertex type.
The labels of a vertex can be retrieved using:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">GRIN_LABEL_LIST</span><span class="w"> </span><span class="nf">grin_get_label_list_by_vertex</span><span class="p">(</span><span class="n">GRIN_GRAPH</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_VERTEX</span><span class="p">);</span>
</pre></div>
</div>
<p>The returned label list handle can be used to retrieve a label handle using an array-like approach:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">size_t</span><span class="w"> </span><span class="nf">grin_get_label_list_size</span><span class="p">(</span><span class="n">GRIN_GRAPH</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_LABEL_LIST</span><span class="p">);</span>

<span class="n">GRIN_LABEL</span><span class="w"> </span><span class="nf">grin_get_label_from_list</span><span class="p">(</span><span class="n">GRIN_GRAPH</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_LABEL_LIST</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="p">);</span>
</pre></div>
</div>
<p>Also, labels have unique names, and can be retrieved directly from their names.
The name-related APIs are:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="nf">grin_get_label_name</span><span class="p">(</span><span class="n">GRIN_GRAPH</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_LABEL</span><span class="p">);</span>

<span class="n">GRIN_LABEL</span><span class="w"> </span><span class="nf">grin_get_label_by_name</span><span class="p">(</span><span class="n">GRIN_GRAPH</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="p">);</span>
</pre></div>
</div>
<p>Similar to primary keys, GRIN refers to the ability to retrieve vertices or edges from their labels as <code class="docutils literal notranslate"><span class="pre">Label</span> <span class="pre">Indexing</span></code>,
which are described in the index section.</p>
<p>For edge labels, the APIs are very similar to the vertex label APIs, so we will not repeat them here.</p>
</section>
<section id="topology">
<h3>Topology<a class="headerlink" href="#topology" title="Link to this heading">#</a></h3>
<p>When schema is enabled, the topology APIs will become a little different from the ones we shown in the <code class="docutils literal notranslate"><span class="pre">Topology</span> <span class="pre">API</span></code>,
because LPG organizes the graph topology in a type-centric fashion.</p>
<p>For example, vertex list of a specific vertex type can be retrieved using:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">GRIN_VERTEX_LIST</span><span class="w"> </span><span class="nf">grin_get_vertex_list_by_type</span><span class="p">(</span><span class="n">GRIN_GRAPH</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_VERTEX_TYPE</span><span class="p">);</span>
</pre></div>
</div>
<p>Previously, the vertex list of the entire graph could be fetched directly.
However, due to the type-centric topology organization of LPG, this is no longer possible.
Instead, users must now iterate through the vertex types and retrieve the vertex list of each type separately.
This design choice was made to avoid storages combining the vertex lists of different types under the hood,
which would result in hidden overhead.
If users still need a single handle to represent the entire vertex list of LPG,
they can refer to the <code class="docutils literal notranslate"><span class="pre">list_chain</span></code> section in the <code class="docutils literal notranslate"><span class="pre">GRIN</span> <span class="pre">Extension</span></code> for more information.</p>
<p>APIs for edge and adjacent lists are also defined in a type-centric fashion, where the edge type must be specified:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">GRIN_EDGE_LIST</span><span class="w"> </span><span class="nf">grin_get_edge_list_by_type</span><span class="p">(</span><span class="n">GRIN_GRAPH</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_EDGE_TYPE</span><span class="p">);</span>

<span class="n">GRIN_ADJACENT_LIST</span><span class="w"> </span><span class="nf">grin_get_adjacent_list_by_edge_type</span><span class="p">(</span><span class="n">GRIN_GRAPH</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_DIRECTION</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_VERTEX</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_EDGE_TYPE</span><span class="p">);</span>
</pre></div>
</div>
</section>
</section>
<section id="schema-free-property-graph-apis">
<h2>Schema-free Property Graph APIs<a class="headerlink" href="#schema-free-property-graph-apis" title="Link to this heading">#</a></h2>
<section id="property">
<h3>Property<a class="headerlink" href="#property" title="Link to this heading">#</a></h3>
<p>In schema-free property graphs, properties can be attached to vertices and edges arbitrarily.
Thus, the APIs for properties are different from the schema-enabled case.</p>
<p>To get the property list of a vertex, use:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">GRIN_VERTEX_PROPERTY_LIST</span><span class="w"> </span><span class="nf">grin_get_vertex_property_list</span><span class="p">(</span><span class="n">GRIN_GRAPH</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_VERTEX</span><span class="p">);</span>
</pre></div>
</div>
<p>To get the name of a vertex property, use:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="nf">grin_get_vertex_property_name</span><span class="p">(</span><span class="n">GRIN_GRAPH</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_VERTEX</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_VERTEX_PROPERTY</span><span class="p">);</span>
</pre></div>
</div>
<p>And to get a specific property of a vertex using its name, use:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">GRIN_VERTEX_PROPERTY</span><span class="w"> </span><span class="nf">grin_get_vertex_property_by_name</span><span class="p">(</span><span class="n">GRIN_GRAPH</span><span class="p">,</span><span class="w"> </span><span class="n">GRIN_VERTEX</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="p">);</span>
</pre></div>
</div>
<p>However, IDs are not supported as vertex properties in schema-free property graphs
since vertex properties are considered to be distinct from one another.</p>
<p>The APIs for edge properties are similar to the vertex property APIs, so we will not repeat them here.</p>
</section>
<section id="id1">
<h3>Label<a class="headerlink" href="#id1" title="Link to this heading">#</a></h3>
<p>Labels in schema-free property graphs are also assigned arbitrarily.
Thus the APIs to get candidate labels of a vertex or edge type are not enabled for schema-free property graphs.
Other APIs for labels are the same to the schema-enabled case, so we will not repeat them here.</p>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="partition_api.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Partitioned Graph and APIs</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="topology_api.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Graph Topology and APIs</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2023, grin workers
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Property Graph and APIs</a><ul>
<li><a class="reference internal" href="#labeled-property-graph">Labeled Property Graph</a></li>
<li><a class="reference internal" href="#schema-enabled-property-graph-apis">Schema-enabled Property Graph APIs</a><ul>
<li><a class="reference internal" href="#vertex-and-edge-type">Vertex and Edge Type</a></li>
<li><a class="reference internal" href="#schema-related-functions">Schema-related Functions</a></li>
<li><a class="reference internal" href="#value-retrieval">Value Retrieval</a></li>
<li><a class="reference internal" href="#row">Row</a></li>
<li><a class="reference internal" href="#primary-key">Primary Key</a></li>
<li><a class="reference internal" href="#label">Label</a></li>
<li><a class="reference internal" href="#topology">Topology</a></li>
</ul>
</li>
<li><a class="reference internal" href="#schema-free-property-graph-apis">Schema-free Property Graph APIs</a><ul>
<li><a class="reference internal" href="#property">Property</a></li>
<li><a class="reference internal" href="#id1">Label</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=a58bc63e"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=32e29ea5"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    </body>
</html>